<div class="habit-board-container">
  <!-- BOTÓN PARA MOSTRAR FORMULARIO -->
  <div class="section">
    <button *ngIf="!showForm" (click)="showForm = true">+ Crear nuevo hábito</button>
  </div>

  <!-- FORMULARIO DE CREACIÓN -->
  <div class="modal" *ngIf="showForm">
    <form (ngSubmit)="addHabit()">
      <h3>Nuevo hábito</h3>

      <label>Título:</label>
      <input type="text" [(ngModel)]="newHabit.titulo" name="titulo" required />

      <label>Objetivo:</label>
      <input type="text" [(ngModel)]="newHabit.objetivo" name="objetivo" required />

      <label>Frecuencia:</label>
      <select [(ngModel)]="newHabit.frecuencia" name="frecuencia" required>
        <option value="DAILY">Diario</option>
        <option value="WEEKLY">Semanal</option>
      </select>

      <label>Fecha de finalización (opcional):</label>
      <input type="date" [(ngModel)]="newHabit.fechaFin" name="fechaFin" />

      <label>Color:</label>
      <input type="color" [(ngModel)]="newHabit.color" name="color" />

      <div class="form-buttons">
        <button type="submit">Guardar</button>
        <button type="button" (click)="cancel()">Cancelar</button>
      </div>
    </form>
  </div>

  <!-- TABLERO DE HÁBITOS -->
  <div class="columns">
    <!-- PENDING -->
    <div class="column">
      <h3>Pendientes</h3>
      <div class="card" *ngFor="let habit of pending" [style.borderColor]="habit.color">
        <p><strong>{{ habit.titulo }}</strong></p>
        <p>{{ habit.objetivo }}</p>
        <button (click)="marcarComoEnProceso(habit)">➡️ En proceso</button>
      </div>
    </div>

    <!-- IN PROGRESS -->
    <div class="column">
      <h3>En proceso</h3>
      <div class="card" *ngFor="let habit of inProgress" [style.borderColor]="habit.color">
        <p><strong>{{ habit.titulo }}</strong></p>
        <p>{{ habit.objetivo }}</p>
        <button (click)="marcarComoCompletado(habit)">✅ Completar</button>
      </div>
    </div>

    <!-- COMPLETED -->
    <div class="column">
      <h3>Completados</h3>
      <div class="card completed" *ngFor="let habit of completed" [style.borderColor]="habit.color">
        <p><strong>{{ habit.titulo }}</strong></p>
        <p>{{ habit.objetivo }}</p>
      </div>
    </div>
  </div>
</div>
