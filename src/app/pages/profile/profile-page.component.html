<h2>Perfil del Usuario</h2>

<!-- EMAIL -->
<div class="section">
  <p><strong>Email:</strong> {{ userEmail }}</p>
</div>

<!-- NOMBRE -->
<div class="section">
  <label><strong>Nombre:</strong></label>
  <div *ngIf="!editing['nombre']">
    {{ userData?.nombre }}
    <button (click)="enableEdit('nombre')">Actualizar</button>
  </div>
  <div *ngIf="editing['nombre']">
    <input [(ngModel)]="userData.nombre" />
    <button (click)="updateField('nombre')">Guardar</button>
  </div>
</div>

<!-- CONTRASE칌A -->
<div class="section">
  <h3>Cambiar contrase침a</h3>
  <button (click)="resetPassword()">Enviar correo de recuperaci칩n</button>
</div>

<!-- M칄TRICAS -->
<div *ngIf="metrics">
  <h3>游늵 Estad칤sticas de h치bitos</h3>
  <ul>
    <li>Total: {{ metrics.totalHabits }}</li>
    <li>Completados: {{ metrics.completed }}</li>
    <li>En proceso: {{ metrics.inProgress }}</li>
    <li>Fallidos: {{ metrics.failed }}</li>
    <li>% completado: {{ metrics.completionRate | percent:'1.0-2' }}</li>
  </ul>

  <div style="max-width: 400px; margin-top: 20px;">
    <canvas baseChart
            [data]="chartData"
            [type]="chartType"
            [legend]="true">
    </canvas>
  </div>
</div>


<!-- NAVEGACI칍N -->
<div class="section">
  <button (click)="goHome()">Volver a Home</button>
  <button (click)="logout()">Cerrar sesi칩n</button>
</div>
